import router from '@ohos.router'
import ListChatItem, { ChatItemData } from '../../component/chatListItem'
import WechatToolbar from '../../component/WechatToolBar'

@Preview
@Component
export default struct Home {
  @State chatList: ChatItemData[] = [
    {
      headSrc: $r("app.media.user_head1"),
      nickname: "è€å©†",
      content: "ä»Šæ™šç»™ä½ åšäº†å¥½åƒçš„ï¼Œæ—©ç‚¹ä¸‹ç­å“¦ğŸ˜Š",
      time: "17:21"
    },
    {
      headSrc: $r("app.media.user_head2"),
      nickname: "ç‡åœŸå¤©ä½‘",
      content: "æˆ‘ä»Šå¤©åˆæ‹¿äº†äº”æ€ï¼Œç‰›é€¼ä¸ï¼Ÿ",
      time: "15:38"
    },
    {
      headSrc: $r("app.media.user_head3"),
      nickname: "åŒäº‹ææ˜",
      content: "é¢†å¯¼ï¼ŒæŠ¥ç»™å†™å¥½äº†ï¼Œè¯·è¿‡ç›®",
      time: "14:12"
    },
    {
      headSrc: $r("app.media.user_head4"),
      nickname: "HRå­™å°èŠ±",
      content: "è¿™ä¸ªå²—ä½è¿˜éœ€è¦æ‹›ä¸¤ä¸ªäºº",
      time: "12:08"
    },
    {
      headSrc: $r("app.media.user_head1"),
      nickname: "å¼ ä¸‰",
      content: "å¥½çš„",
      time: "æ˜¨å¤©"
    },
    {
      headSrc: $r("app.media.user_head2"),
      nickname: "æå››",
      content: "å¥½çš„ï¼Œå“¥",
      time: "å‘¨ä¸€"
    },
    {
      headSrc: $r("app.media.user_head3"),
      nickname: "å¼ ä¸‰ä¸°",
      content: "è¿™æ˜¯æˆ‘çš„æ­¦åŠŸç§˜ç±ï¼Œ30å¸Œæœ›æ‚¨èƒ½è€ƒè™‘ä¸‹",
      time: "æ˜¨å¤©"
    },
    {
      headSrc: $r("app.media.user_head4"),
      nickname: "è€å¦¹",
      content: "å¥½çš„ï¼Œå“¥",
      time: "å‘¨ä¸€"
    },
    {
      headSrc: $r("app.media.user_head1"),
      nickname: "å®¢æˆ·æ½˜æ€»",
      content: "è¿™æ˜¯æˆ‘ä»¬å…¬å¸çš„æŠ¥ä»·ï¼Œå¸Œæœ›æ‚¨èƒ½è€ƒè™‘ä¸‹",
      time: "æ˜¨å¤©"
    },
    {
      headSrc: $r("app.media.user_head2"),
      nickname: "ç‹‚å¾’å¼ ä¸‰",
      content: "æ˜¯å…„å¼Ÿå°±æ¥ç æˆ‘",
      time: "å‘¨ä¸€"
    },
    {
      headSrc: $r("app.media.user_head3"),
      nickname: "é©¬ä»”",
      content: "åƒå±å‘€,ä½ ",
      time: "æ˜¨å¤©"
    },
    {
      headSrc: $r("app.media.user_head4"),
      nickname: "ä¹Œé¸¦å“¥",
      content: "éš¾åŠ?,é‚£å°±ä¸è¦åŠäº†",
      time: "å‘¨ä¸€"
    }
  ]

  build() {
    Column() {
      WechatToolbar({ title: "å¾®ä¿¡(2)" })

      List() {
        ForEach(this.chatList, (item: ChatItemData, index: number) => {
          ListItem() {
            ListChatItem({ data: item })
          }
          .onClick(() => {
            router.pushUrl({ url: 'pages/chat/ChatPage',
              params: {name:item.nickname}
            })
          })
        })
        ListItem() {
          Divider().color('#0000').strokeWidth(0)
        }
      }
      .divider({ strokeWidth: 0.8, color: '#f0f0f0', startMargin: 90, endMargin: 0 }) // æ¯è¡Œä¹‹é—´çš„åˆ†ç•Œçº¿
      .backgroundColor(Color.White)
      .width("100%")
      .height("100%")
    }
    .width("100%")
    .height("100%")
    .backgroundColor("#f0f0f0")
  }
}
